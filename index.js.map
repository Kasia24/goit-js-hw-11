{"version":3,"file":"index.js","sources":["../src/js/script.js"],"sourcesContent":["// Twój unikalny klucz API Pixabay\nconst API_KEY = '46058905-76d6ace161caaf887286baf22';\n\n// Elementy DOM\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\n\n// Inicjalizacja SimpleLightbox\nlet lightbox = new SimpleLightbox('.gallery a');\n\n// Funkcja wyszukiwania obrazów\nconst searchImages = async query => {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  // Funkcja pokazująca i ukrywająca loader\n  function showLoader() {\n    loader.style.display = 'block';\n  }\n\n  function hideLoader() {\n    loader.style.display = 'none';\n  }\n\n  // Pokaż loader\n  loader.hidden = true;\n\n  try {\n    showLoader();\n    const response = await fetch(url);\n    const data = await response.json();\n\n    hideLoader();\n\n    // Czyszczenie galerii przed dodaniem nowych wyników\n    clearGallery();\n\n    // Ukryj loader\n    loader.hidden = false;\n\n    if (data.hits.length === 0) {\n      // Wyświetlanie komunikatu iziToast\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      // Wyświetlanie obrazów\n      displayImages(data.hits);\n      // Odświeżenie lightboxa po dodaniu nowych elementów\n      lightbox.refresh();\n    }\n  } catch (error) {\n    // Ukryj loader w przypadku błędu\n    loader.hidden = true;\n    console.error('Error fetching images from Pixabay:', error);\n  }\n};\n\n// Funkcja do wyświetlania obrazów w galerii\nconst displayImages = images => {\n  images.forEach(image => {\n    const card = document.createElement('div');\n    card.classList.add('card');\n\n    card.innerHTML = `\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"stats\">\n                <span class=\"span\">Likes\n                ${image.likes}</span>\n                <span class=\"span\">Views \n                ${image.views}</span>\n                <span class=\"span\">Comments \n                ${image.comments}</span>\n                <span class=\"span\">Downloads \n                ${image.downloads}</span>\n            </div>\n        `;\n\n    gallery.appendChild(card);\n  });\n};\n\n// Funkcja do czyszczenia galerii\nconst clearGallery = () => {\n  gallery.innerHTML = '';\n};\n\n// Obsługa formularza wyszukiwania\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = searchInput.value.trim();\n  if (query !== '') {\n    searchImages(query);\n  }\n});\n"],"names":["API_KEY","searchForm","searchInput","gallery","loader","lightbox","searchImages","query","url","showLoader","hideLoader","data","clearGallery","displayImages","error","images","image","card","e"],"mappings":"ssBACA,MAAMA,EAAU,qCAGVC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAG/C,IAAIC,EAAW,IAAI,eAAe,YAAY,EAG9C,MAAMC,EAAe,MAAMC,GAAS,CAClC,MAAMC,EAAM,gCAAgCR,CAAO,MAAM,mBACvDO,CACD,CAAA,2DAGD,SAASE,GAAa,CACpBL,EAAO,MAAM,QAAU,OACxB,CAED,SAASM,GAAa,CACpBN,EAAO,MAAM,QAAU,MACxB,CAGDA,EAAO,OAAS,GAEhB,GAAI,CACFK,IAEA,MAAME,EAAO,MADI,MAAM,MAAMH,CAAG,GACJ,OAE5BE,IAGAE,IAGAR,EAAO,OAAS,GAEZO,EAAK,KAAK,SAAW,EAEvB,SAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,GAGDE,EAAcF,EAAK,IAAI,EAEvBN,EAAS,QAAO,EAEnB,OAAQS,EAAO,CAEdV,EAAO,OAAS,GAChB,QAAQ,MAAM,sCAAuCU,CAAK,CAC3D,CACH,EAGMD,EAAgBE,GAAU,CAC9BA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzBA,EAAK,UAAY;AAAA,uBACED,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,kBAIhDA,EAAM,KAAK;AAAA;AAAA,kBAEXA,EAAM,KAAK;AAAA;AAAA,kBAEXA,EAAM,QAAQ;AAAA;AAAA,kBAEdA,EAAM,SAAS;AAAA;AAAA,UAI7Bb,EAAQ,YAAYc,CAAI,CAC5B,CAAG,CACH,EAGML,EAAe,IAAM,CACzBT,EAAQ,UAAY,EACtB,EAGAF,EAAW,iBAAiB,SAAUiB,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMX,EAAQL,EAAY,MAAM,KAAI,EAChCK,IAAU,IACZD,EAAaC,CAAK,CAEtB,CAAC"}